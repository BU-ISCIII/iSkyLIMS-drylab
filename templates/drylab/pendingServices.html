{% extends 'drylab/base.html' %}
{% load static %}
{% block content %}
{% csrf_token %}
<script type="text/javascript" src="{% static "js/fusioncharts/js/fusioncharts.js" %}"></script>                   
<script type="text/javascript" src="{% static "js/fusioncharts/js/themes/fusioncharts.theme.fint.js" %}"></script> 

    <h1><div class="color-heading">Pending Services</div></h1>
    <div class="row row-space-2 margin-b-4">
        <div class="col-sm-7">  <!-- first column with list of pending services -->
            <div class="col-sm-12">  <!-- Recorded  pending services -->
                <div class="panel panel-default">
                  <div class="panel-heading">List of Services in Recorded State</div>
                  <div class="panel-body">
                      {% if pending_services.recorded %}
                          <table class="table table-hover">
                               <thead>
                                  <tr>
                                    <th>Services ID</th>
                                    <th>Run Specifications</th>
                                    <th>Center</th>
                                    <th>Platform</th>
                                  </tr>
                               </thead>
                               <tbody>
                                {% for key, values in pending_services.recorded.items %}  
                                 <tr>
                                    {% for specification, center, platform in values %}
                                   <td><a href="/drylab/display_service={{ key }}">{{ key }}</a> </td>
                                   <td> {{ specification }} </td>
                                   <td> {{ center }} </td>
                                   <td> {{ platform }} </td>
                                    {%endfor%}
                                 </tr>
                                {%endfor%}
                               </tbody>
                             </table>
                      {% else %}
                      There is not pending services in <b>RECORDED</b> state.
                      {% endif%}
                  </div> <!--// end panel body -->
                </div> <!--// end panel -->
            </div> <!--// end col-sm-12  Recorded  pending services  -->
            <div class="col-sm-12">  <!-- Approved  pending services -->
                <div class="panel panel-default">
                  <div class="panel-heading">List of Services in Approved State</div>
                  <div class="panel-body">
                      {% if peding_services.approved %}
                          <table class="table table-hover">
                               <thead>
                                  <tr>
                                    <th>Services ID</th>
                                    <th>Run Specifications</th>
                                    <th>Center</th>
                                    <th>Platform</th>
                                  </tr>
                               </thead>
                               <tbody>
                                {% for key, values in pending_services.approved.items %}  
                                 <tr>
                                    {% for specification, center, platform in values %}
                                   <td><a href="/drylab/display_service={{ key }}">{{ key }}</a> </td>
                                   <td> {{ specification }} </td>
                                   <td> {{ center }} </td>
                                   <td> {{ platform }} </td>
                                    {%endfor%}
                                 </tr>
                                {%endfor%}
                               </tbody>
                             </table>
                      {% else %}
                      There is not pending services in <b>APPROVED</b> state.
                      {% endif%}
                  </div> <!--// end panel body -->
                </div> <!--// end panel -->
            </div> <!--// end col-sm-12  Approved  pending services  -->
            <div class="col-sm-12">  <!-- Queued  pending services -->
                <div class="panel panel-default">
                  <div class="panel-heading">List of Services in Queued State</div>
                  <div class="panel-body">
                      {% if peding_services.queued %}
                         <table class="table table-hover">
                               <thead>
                                  <tr>
                                    <th>Services ID</th>
                                    <th>Run Specifications</th>
                                    <th>Center</th>
                                    <th>Platform</th>
                                  </tr>
                               </thead>
                               <tbody>
                                {% for key, values in pending_services.queued.items %}  
                                 <tr>
                                    {% for specification, center, platform in values %}
                                   <td><a href="/drylab/display_service={{ key }}">{{ key }}</a> </td>
                                   <td> {{ specification }} </td>
                                   <td> {{ center }} </td>
                                   <td> {{ platform }} </td>
                                    {%endfor%}
                                 </tr>
                                {%endfor%}
                               </tbody>
                             </table>
                      
                      {% else %}
                      
                      There is not pending services in <b>QUEUED</b> state.
                      {% endif%}
                  </div> <!--// end panel body -->
                </div> <!--// end panel -->
            </div> <!--// end col-sm-12  Queued  pending services  -->
            <div class="col-sm-12">  <!-- In Progress  pending services -->
                <div class="panel panel-default">
                  <div class="panel-heading">List of Services in In Progress State</div>
                  <div class="panel-body">
                      {% if peding_services.in_progress %}
                         <table class="table table-hover">
                               <thead>
                                  <tr>
                                    <th>Services ID</th>
                                    <th>Run Specifications</th>
                                    <th>Center</th>
                                    <th>Platform</th>
                                  </tr>
                               </thead>
                               <tbody>
                                {% for key, values in pending_services.in_progress.items %}  
                                 <tr>
                                    {% for specification, center, platform in values %}
                                   <td><a href="/drylab/display_service={{ key }}">{{ specification }}</a> </td>
                                   <td> {{ center }} </td>
                                   <td> {{ platform }} </td>
                                    {%endfor%}
                                 </tr>
                                {%endfor%}
                               </tbody>
                             </table>
                      
                      {% else %}
                      
                      There is not pending services in <b>IN PROGRESS</b> state.
                      {% endif%}
                  </div> <!--// end panel body -->
                </div> <!--// end panel -->
            </div> <!--// end col-sm-12  In Progress  pending services  -->
      </div> <!--// end col-sm-7 first column with list of pending services -->
      <div class="col-sm-5 ">
          <div class="col-sm-11 col-sm-offset-3">
            <img class="promo-block-img img-responsive" src="{% static "img/illumina/nextseqReduced.png" %}" align="Avatar">
          </div> <!--// end img --> 
      {% if pending_services.graphic_pending_services %}
        <div class="col-sm-12">
            <div class="panel panel-default">
                <div class="panel-heading"><h3>Percentage of pending Services.</h3></div>
                <div class="panel-body"> 
                <!-- Pie chart for number of pending Services chart will start here-->
                    <div id="chart-1"> </div>
                    <!-- dumping JavaScript code here -->
                    {{ pending_services.graphic_pending_services |safe }}
                </div> <!--  end of panel body -->
            </div> <!--  end of panel  -->
            </div> <!--// end col-sm-12  graphics for pending services  -->
        {% endif %}
    </div> <!--// end row -->
{% endblock %}
